# Apache Virtual Host Configuration for Laravel
# Place this in: /etc/apache2/sites-available/your-site.conf (or /etc/httpd/conf.d/your-site.conf)
# Then enable: sudo a2ensite your-site.conf && sudo systemctl reload apache2

<VirtualHost *:80>
    ServerName your-domain.com
    ServerAlias www.your-domain.com
    DocumentRoot /path/to/your/project/public

    <Directory /path/to/your/project/public>
        # CRITICAL: Allow access to all files
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        
        # Allow .htaccess to override settings
        AllowOverride FileInfo Indexes Options
    </Directory>

    # Logging
    ErrorLog ${APACHE_LOG_DIR}/your-site-error.log
    CustomLog ${APACHE_LOG_DIR}/your-site-access.log combined

    # Optional: Redirect to HTTPS
    # RewriteEngine On
    # RewriteCond %{HTTPS} off
    # RewriteRule ^(.*)$ https://%{HTTP_HOST}$1 [R=301,L]
</VirtualHost>

# HTTPS Configuration (if using SSL)
<VirtualHost *:443>
    ServerName your-domain.com
    ServerAlias www.your-domain.com
    DocumentRoot /path/to/your/project/public

    <Directory /path/to/your/project/public>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        AllowOverride FileInfo Indexes Options
    </Directory>

    # SSL Configuration
    SSLEngine on
    SSLCertificateFile /path/to/your/certificate.crt
    SSLCertificateKeyFile /path/to/your/private.key
    SSLCertificateChainFile /path/to/your/chain.crt

    ErrorLog ${APACHE_LOG_DIR}/your-site-ssl-error.log
    CustomLog ${APACHE_LOG_DIR}/your-site-ssl-access.log combined
</VirtualHost>

